# Lottery

## Ethereum 


#### How to Use: 
Download or clone the repository. Inside the folder **/Lottery/ethereum-lottery/** you will see **"Lottery.sol"**. Copy the code and paste it in the https://ethereum.github.io/browser-solidity/#optimize=false.


### Simple Lottery
Simple lottery will be nonrecurring, uses blockhashes for random numbers, and has only one winner. The lottery has a constructor and three public functions corresponding to the three actions a user can take: buy a ticket, draw a winner, and claim their winnings. By default, the fallback function buys a ticket if a user sends ether to the contract address.


### Recurring Lottery
The new lottery will occur in rounds so that a new prize pool is started every time the old one closes. It will also allow users to purchase multiple tickets in one transaction instead of just one and add a couple of security improvements. Type and struct definitions usually go at the beginning of a contract because they are used in the variable definitions and rest of the contract. We have defined two structs: Round and Entry. A round ends when block number endBlock is mined and the winner is determined by selecting a random entry from entries. A random seed generated by the blockhash from block number drawBlock will determine which entry gets the prize. A single Entry contains the buyer address and quantity of tickets purchased. Since an Entry can hold more than one ticket, determining the total number of tickets sold requires a calculation that gets more expensive with more entries. Instead, totalQuantity is defined to track the number of tickets sold in each round.


#### How to Run: 
**NOTE:** Number of Blocks: 1 Block = 15.7 seconds
#### Step 1: 
Assign an account

#### Step 2:
Create duration (time to draw the numbers)

#### Step 3:
Enter value of ticket (ether) Example: 0.001 ether

#### Step 4: 
Enter number of rounds **NOTE: 1 round = 5 blocks** Click to see the endBlock and drawBlock.

#### Step 5:
Buy another ticket and assign another address. Click the round button to see if you already met the drawBlock. Then you will know in the drawWinner section if who won in that round. **NOTE:** If your address won in the lottery click the withdraw button then you will see that the amount increases inside your account.


### Random Number Generator
The idea behind the RNG lottery is to use a commit-reveal sequence to create a verifiably random number. Every buyer submits a commitment hash when they buy a ticket. The commitment is generated by hashing together the user’s address and a secret number known only to the user. When the ticketing period is over, there is a reveal period during which each player must reveal the secret number used to generate their commitment hash. The secret number is hashed on-chain with the player’s address, and this hash must match the commitment submitted with the ticket. Players who don’t reveal their numbers during the reveal period are dropped from the lottery. The secret numbers are hashed together to generate the random seed for picking a winner.


#### How to Run:
#### Step 1: 
Input two numbers in create button. Example: (2, 4).
**1st Number:** How many tickets will the user buy in the lottery.
**2nd Number:** For revealDeadline how many times you need to reveal in the drawWinner.

#### Step 2: In createCommitment
Input the adddress and ticketNumber you want to assign for your address.
**NOTE:** always add quotation. Example: "address",ticketNumber 

#### Step 3: 
Copy the commitment address (result of the address and ticketNumber) in the buy section. Add input value of ether **"0.01 ether"** before clicking the buy button.

#### Step 4: Repeat the procedure from step 2 to 3. Use other address and ticketNumber.

#### Logic
**showBlock:** You will know the limitation in buying the ticket.
**ticketDeadline:** showBlock or the blockNumber > ticketDeadline
revealDeadline > showBlock to revealWinner.
showBlock > drawBlock

**NOTE:** Every reveal or transaction add 1 showBlock number.

#### Step 5:
Click drawWinner to view the winner address. Then click the winner button when the logic is equal to the number shown to reveal who win in the lottery.

**To check the address:** 
Commitmment: input the address then it will show its commitment address. Then you can check in the createCommitment in the ticket button if it matches.

**Note: ** Reveal = ticketNumber per address. Example: for the 1st address = 10 ticketNumber(you assigned).




### Powerball
In Powerball, the user picks six numbers per ticket. The first five numbers are standard numbers from 1–69, and the sixth number is a special Powerball number from 1–26 that offers extra rewards. To know what time the draw will held, you can wait 3 minutes depend on the time input in the round_length. 

#### Set the following:
Ticket Price = 1 ether
Round Length = 3 minutes

#### How to Run:

#### Step 1: Input value on ether, then click create.

#### Step 2: 
In the buy section. type 6 winning number combination you want to bet. Example: [[1, 2, 3, 4, 5, 6]]

**NOTE:** For the 1st to 5th number is from 1-69 and 6th number is from 1-26 numbers that you can bet.

Wait until the roundLength finish. **NOTE:** While waiting check the following:
**round:** the round you are betting.
**rounds:** check the endtime and drawblock when typing the round you are betting.
**drawblock:** number of limits you can draw after the time roundLength.
**ticketsFor:** check what type of round and the addrss to know or see the combination of numbers you bet.

When the time finishes, click the winningNumbersFor if you won in the lottery. If your number combinations won click the claim and type the round and the address to claim the reward.


#### Members: 

Camigla, Jefferson
Fernandez, Reinier Jose 
Rante, Junie
Rivera, Katherine
Ramos, Eliza Ira 

